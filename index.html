<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç«¯æœ«ãƒ»ãƒ–ãƒ©ã‚¦ã‚¶æƒ…å ±ãƒã‚§ãƒƒã‚«ãƒ¼</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.8;
            background-color: #f4f7f9;
            color: #333;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: #fff;
            padding: 20px 30px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        h1 {
            text-align: center;
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th, td {
            padding: 12px;
            border: 1px solid #e0e0e0;
            text-align: left;
        }
        th {
            background-color: #ecf0f1;
            font-weight: 600;
            width: 35%;
        }
        td {
            font-family: 'Courier New', Courier, monospace;
            word-break: break-all;
        }
        .live-update {
            font-weight: bold;
            color: #e67e22;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>ç«¯æœ«ãƒ»ãƒ–ãƒ©ã‚¦ã‚¶æƒ…å ±ãƒã‚§ãƒƒã‚«ãƒ¼ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç‰ˆ ğŸš€</h1>
        <table>
            <thead>
                <tr>
                    <th>æƒ…å ±é …ç›®</th>
                    <th>å€¤</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <th>ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ</th>
                    <td id="userAgent"></td>
                </tr>
                <tr>
                    <th>ãƒ–ãƒ©ã‚¦ã‚¶ã®è¨€èª</th>
                    <td id="language"></td>
                </tr>
                <tr>
                    <th>ã‚ªãƒ³ãƒ©ã‚¤ãƒ³çŠ¶æ…‹ <span class="live-update">(ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ )</span></th>
                    <td id="onlineStatus"></td>
                </tr>
                <tr>
                    <th>Cookieã¯æœ‰åŠ¹ï¼Ÿ</th>
                    <td id="cookieEnabled"></td>
                </tr>
                <tr>
                    <th>ç”»é¢ã®è§£åƒåº¦</th>
                    <td id="screenResolution"></td>
                </tr>
                 <tr>
                    <th>ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã®è¡¨ç¤ºé ˜åŸŸ <span class="live-update">(ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ )</span></th>
                    <td id="viewportSize"></td>
                </tr>
                <tr>
                    <th>ãƒ”ã‚¯ã‚»ãƒ«æ¯”</th>
                    <td id="devicePixelRatio"></td>
                </tr>
                <tr>
                    <th>CPUã‚³ã‚¢æ•°</th>
                    <td id="cpuCores"></td>
                </tr>
                <tr>
                    <th>ãƒ‡ãƒã‚¤ã‚¹ãƒ¡ãƒ¢ãƒª (æ¨å®š)</th>
                    <td id="deviceMemory"></td>
                </tr>
                <tr>
                    <th>ã‚¿ãƒƒãƒæ“ä½œã¯å¯èƒ½ï¼Ÿ</th>
                    <td id="touchSupport"></td>
                </tr>
                <tr>
                    <th>ãƒãƒƒãƒ†ãƒªãƒ¼å……é›»ä¸­ï¼Ÿ <span class="live-update">(ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ )</span></th>
                    <td id="batteryCharging"></td>
                </tr>
                <tr>
                    <th>ãƒãƒƒãƒ†ãƒªãƒ¼æ®‹é‡ <span class="live-update">(ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ )</span></th>
                    <td id="batteryLevel"></td>
                </tr>
                <tr>
                    <th>ç‰©ç†çš„ãªæ¥ç¶šã®ç¨®é¡ <span class="live-update">(ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ )</span></th>
                    <td id="connectionType"></td>
                </tr>
                <tr>
                    <th>ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®ä½“æ„Ÿé€Ÿåº¦</th>
                    <td id="networkEffectiveType"></td>
                </tr>
                <tr>
                    <th>é€šä¿¡é€Ÿåº¦ã®ç›®å®‰</th>
                    <td id="networkSpeed"></td>
                </tr>
            </tbody>
        </table>
    </div>

    <script>
        // DOMè¦ç´ ã‚’ã‚ã‚‰ã‹ã˜ã‚å–å¾—ã—ã¦ãŠã
        const elements = {
            userAgent: document.getElementById('userAgent'),
            language: document.getElementById('language'),
            onlineStatus: document.getElementById('onlineStatus'),
            cookieEnabled: document.getElementById('cookieEnabled'),
            screenResolution: document.getElementById('screenResolution'),
            viewportSize: document.getElementById('viewportSize'),
            devicePixelRatio: document.getElementById('devicePixelRatio'),
            cpuCores: document.getElementById('cpuCores'),
            deviceMemory: document.getElementById('deviceMemory'),
            touchSupport: document.getElementById('touchSupport'),
            batteryCharging: document.getElementById('batteryCharging'),
            batteryLevel: document.getElementById('batteryLevel'),
            connectionType: document.getElementById('connectionType'),
            networkEffectiveType: document.getElementById('networkEffectiveType'),
            networkSpeed: document.getElementById('networkSpeed'),
        };

        // æƒ…å ±ã‚’å–å¾—ã—ã¦è¡¨ç¤ºã™ã‚‹é–¢æ•°
        function updateAllInfo() {
            elements.userAgent.textContent = navigator.userAgent;
            elements.language.textContent = navigator.language || navigator.userLanguage;
            updateOnlineStatus();
            elements.cookieEnabled.textContent = navigator.cookieEnabled ? 'ã¯ã„ ğŸ‘' : 'ã„ã„ãˆ ğŸ‘';
            elements.screenResolution.textContent = `${screen.width} x ${screen.height} ãƒ”ã‚¯ã‚»ãƒ«`;
            updateViewportSize();
            elements.devicePixelRatio.textContent = window.devicePixelRatio || 1;
            elements.cpuCores.textContent = navigator.hardwareConcurrency ? `${navigator.hardwareConcurrency} ã‚³ã‚¢` : 'æƒ…å ±ãªã—';
            elements.deviceMemory.textContent = navigator.deviceMemory ? `ç´„ ${navigator.deviceMemory} GB` : 'æƒ…å ±ãªã— (Chromeç³»ã®ã¿å¯¾å¿œ)';
            elements.touchSupport.textContent = ('ontouchstart' in window || navigator.maxTouchPoints > 0) ? 'ã¯ã„ ğŸ‘†' : 'ã„ã„ãˆ';
        }
        
        // ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚µã‚¤ã‚º
        function updateViewportSize() {
            elements.viewportSize.textContent = `${window.innerWidth} x ${window.innerHeight} ãƒ”ã‚¯ã‚»ãƒ«`;
        }
        
        // ã‚ªãƒ³ãƒ©ã‚¤ãƒ³çŠ¶æ…‹
        function updateOnlineStatus() {
            elements.onlineStatus.textContent = navigator.onLine ? 'ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ ğŸŸ¢' : 'ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ ğŸ”´';
        }

        // ãƒãƒƒãƒ†ãƒªãƒ¼æƒ…å ±
        function updateBatteryInfo(battery) {
            elements.batteryCharging.textContent = battery.charging ? 'å……é›»ä¸­ âš¡' : 'ãƒãƒƒãƒ†ãƒªãƒ¼é§†å‹•';
            elements.batteryLevel.textContent = `${Math.floor(battery.level * 100)}%`;
        }

        // â–¼â–¼â–¼ ã“ã“ã‹ã‚‰è¿½åŠ  â–¼â–¼â–¼
        // ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æƒ…å ±
        function updateNetworkInfo() {
            const connection = navigator.connection || navigator.mozConnection || navigator.webkitConnection;
            if (connection) {
                // ã€ç‰©ç†çš„ãªæ¥ç¶šã€‘ã‚’å–å¾— (wifi, cellular ãªã©)
                let typeText = 'æƒ…å ±ãªã—';
                if (connection.type) {
                    switch (connection.type) {
                        case 'wifi': typeText = 'Wi-Fi ğŸ“¶'; break;
                        case 'cellular': typeText = 'æºå¸¯å›ç·š ğŸ“±'; break;
                        case 'ethernet': typeText = 'æœ‰ç·šLAN ğŸ”Œ'; break;
                        case 'bluetooth': typeText = 'Bluetooth'; break;
                        case 'none': typeText = 'æ¥ç¶šãªã—'; break;
                        default: typeText = connection.type;
                    }
                }
                elements.connectionType.textContent = typeText;

                // ã€ä½“æ„Ÿé€Ÿåº¦ã€‘ (4g, 3g ãªã©)
                elements.networkEffectiveType.textContent = connection.effectiveType ? connection.effectiveType.toUpperCase() : 'æƒ…å ±ãªã—';
                
                // ã€é€Ÿåº¦ã®ç›®å®‰ã€‘ (Mbps)
                elements.networkSpeed.textContent = connection.downlink ? `ç´„ ${connection.downlink} Mbps` : 'æƒ…å ±ãªã—';
            } else {
                 elements.connectionType.textContent = 'å–å¾—ã§ãã¾ã›ã‚“';
                 elements.networkEffectiveType.textContent = 'å–å¾—ã§ãã¾ã›ã‚“';
                 elements.networkSpeed.textContent = 'å–å¾—ã§ãã¾ã›ã‚“';
            }
        }
        // â–²â–²â–² ã“ã“ã¾ã§è¿½åŠ  â–²â–²â–²


        // --- ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã‚’è¨­å®š ---

        // ãƒšãƒ¼ã‚¸ãŒèª­ã¿è¾¼ã¾ã‚ŒãŸã‚‰ã€ã¾ãšå…¨ã¦ã®æƒ…å ±ã‚’è¡¨ç¤º
        document.addEventListener('DOMContentLoaded', () => {
            updateAllInfo();

            // ãƒãƒƒãƒ†ãƒªãƒ¼APIã®å‡¦ç†
            if ('getBattery' in navigator) {
                navigator.getBattery().then(battery => {
                    updateBatteryInfo(battery);
                    battery.addEventListener('chargingchange', () => updateBatteryInfo(battery));
                    battery.addEventListener('levelchange', () => updateBatteryInfo(battery));
                });
            } else {
                elements.batteryCharging.textContent = 'ã“ã®ãƒ–ãƒ©ã‚¦ã‚¶ã§ã¯å–å¾—ã§ãã¾ã›ã‚“';
                elements.batteryLevel.textContent = 'ã“ã®ãƒ–ãƒ©ã‚¦ã‚¶ã§ã¯å–å¾—ã§ãã¾ã›ã‚“';
            }
            
            // â–¼â–¼â–¼ ã“ã“ã‹ã‚‰è¿½åŠ  â–¼â–¼â–¼
            // ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯APIã®å‡¦ç†
            const connection = navigator.connection || navigator.mozConnection || navigator.webkitConnection;
            if (connection) {
                updateNetworkInfo();
                connection.addEventListener('change', updateNetworkInfo);
            } else {
                elements.connectionType.textContent = 'å–å¾—ã§ãã¾ã›ã‚“';
                elements.networkEffectiveType.textContent = 'å–å¾—ã§ãã¾ã›ã‚“';
                elements.networkSpeed.textContent = 'å–å¾—ã§ãã¾ã›ã‚“';
            }
            // â–²â–²â–² ã“ã“ã¾ã§è¿½åŠ  â–²â–²â–²
        });
        
        window.addEventListener('resize', updateViewportSize);
        window.addEventListener('online', updateOnlineStatus);
        window.addEventListener('offline', updateOnlineStatus);

    </script>
</body>
</html>
